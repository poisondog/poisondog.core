/*
 * This build file was auto generated by running the Gradle 'init' task
 * by 'poisondog' at '2015/11/5 上午 8:05' with Gradle 2.3
 *
 * This generated file contains a commented-out sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at http://gradle.org/docs/2.3/userguide/tutorial_java_projects.html
 */
plugins {
	id "com.jfrog.bintray" version "1.7"
	id "net.saliman.cobertura" version "2.3.1"
}

group = 'poisondog'
version = '1.2.0'

allprojects {
	repositories {
		jcenter()
	}
	apply plugin: 'maven'
	apply plugin: 'maven-publish'
	apply plugin: 'java'
}

sourceCompatibility = 1.5
targetCompatibility = 1.5

publishing {
	publications {
		MyPublication(MavenPublication) {
			from components.java
			groupId group
			artifactId project.name
			version version
		}
	}
}

bintray {
	Properties properties = new Properties()
	properties.load(project.rootProject.file('local.properties').newDataInputStream())
	user = properties.getProperty('bintray.user')
	key = properties.getProperty('bintray.apikey')
//	user = project.hasProperty('bintrayUser') ? project.property('bintrayUser') : System.getenv('BINTRAY_USER')
//	key = project.hasProperty('bintrayApiKey') ? project.property('bintrayApiKey') : System.getenv('BINTRAY_API_KEY')

	publications = ['MyPublication']
	pkg {
		repo = 'poisondog'
		name = project.name
		licenses = ['Apache-2.0']
		vcsUrl = 'https://github.com/poisondog/poisondog.core.git'
//		labels = ['gear', 'gore', 'gorilla']
//		publicDownloadNumbers = true
//		attributes= ['a': ['ay1', 'ay2'], 'b': ['bee'], c: 'cee'] //Optional package-level attributes
//		version {
//			name = '1.0.5'
//			desc = 'poisondog core design'
//			vcsTag = '1.0.0'
//			attributes = ['gradle-plugin': 'com.use.less:com.use.less.gradle:gradle-useless-plugin']
//		}
	}
}

cobertura {
	coverageFormats = ['html', 'xml']
}

dependencies {
	compile 'org.slf4j:slf4j-api:1.7.7'
	testCompile "junit:junit:4.11"
	testCompile "org.mockito:mockito-all:1.9.5"
}

